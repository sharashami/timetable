<div class="card card-body">
    <div class="row">
        <div class="dropdown col-md-4">
            <button type="button" class="btn btn-outline-default btn-block waves-effect dropdown-toggle my-0" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                {{$ctrl.selectedYear.nome}}
            </button>
            <div class="dropdown-menu dropdown-primary">
                <a class="dropdown-item" data-ng-repeat="ano in $ctrl.anos" data-ng-if="$ctrl.selectedYear.nome != ano.nome" data-ng-click="$ctrl.setAno(ano)">{{ano.nome}}</a>
            </div>
        </div>
        <div class="dropdown col-md-4">
            <button type="button" class="btn btn-outline-default btn-block waves-effect dropdown-toggle my-0" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span data-ng-if="$ctrl.selectedTurma">{{$ctrl.selectedTurma.serie}}ª série | {{$ctrl.selectedTurma.turma}} | {{$ctrl.selectedTurma.turno | uppercase}}</span>
                <span data-ng-if="!$ctrl.selectedTurma">SELECIONE UMA TURMA</span>
            </button>
            <div class="dropdown-menu dropdown-primary">
                <a class="dropdown-item" data-ng-repeat="t in $ctrl.turmas track by $index" data-ng-if="$ctrl.selectedYear.nome != ano.nome" data-ng-click="$ctrl.setTurma(t)">{{t.serie}}ª série | {{t.turma}} | {{t.turno | uppercase}}</a>
            </div>
        </div>
    </div>
</div>

<div class="row my-4">
    <div class="col-md-12" data-ng-show="!$ctrl.selectedTurma">
        <div class="card">
            <div class="card-body text-muted text-center">
                <i class="fa fa-info-circle"></i>&ensp;NENHUMA TURMA SELECIONADA
            </div>
        </div>
    </div>

    <div class="col-md-12" data-ng-show="$ctrl.selectedTurma">
        <blockquote class="blockquote bq-primary z-depth-1">
            <div class="bq-title bt">Alocação</div>
            <table id="table_alocation" class="table table-hover">
                <thead>
                    <tr class="text-center">
                        <th class="col-md-4">Disciplina</th>
                        <th class="col-md-8">Professor</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="" data-ng-repeat="d in $ctrl.disciplinas | orderBy : 'id' track by $index">
                        <td class="capitalize text-center">{{d.nome}}</td>
                        <td>
                            <div class="dropdown">
                                <button type="button" class="btn btn-block waves-effect dropdown-toggle text-left" data-ng-class="{'btn-outline-transparent': d.id_professor, 'btn-outline-default': !d.id_professor}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span class="text-dark" data-ng-if="d.id_professor">{{d.nome_professor | uppercase}}</span>
                                    <span class="text-dark" data-ng-if="!d.id_professor">SELECIONE UM PROFESSOR(A)</span>
                                </button>
                                <ul class="dropdown-menu dropdown-primary">
                                    <!-- <span class="text-muted" data-ng-show="d.">Nenhuma professor(a) para essa disciplina</span> -->
                                    <li class="dropdown-item text-secondary text-center" data-ng-if="d.id_professor" data-ng-click="$ctrl.unsetProfessor(d)">
                                        <a><strong><i class="fa fa-trash pr-xl-2 pr-md-0 pr-2"></i>REMOVER</strong></a>
                                    </li>
                                    <li class="dropdown-item" data-ng-repeat="p in $ctrl.professores" data-ng-if="p.disciplinas.indexOf(d.id) != -1" data-ng-click="$ctrl.setProfessor(d, p)">
                                        <a><img src="https://mdbootstrap.com/img/Photos/Avatars/avatar-2.jpg" width="50" height="50" class="rounded-circle z-depth-1">&ensp;{{p.nome}}</a>
                                    </li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </blockquote>
    </div>
</div>